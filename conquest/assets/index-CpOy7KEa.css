.btn-danger{background:linear-gradient(180deg,#ef4444,#b91c1c);color:#fff;border-color:#b91c1c}.surrender-btn{display:flex;align-items:center;justify-content:center;font-size:.85em;min-width:80px;padding:5px 10px;font-weight:700;letter-spacing:.02em;gap:.4em;margin:0 auto;border-radius:8px}.surrender-btn .flag-icon{font-size:1.25em;margin-right:.2em;filter:drop-shadow(0 1px 2px #0006)}#playSection{position:relative;display:grid;grid-template-columns:1fr 1fr;grid-template-areas:"top top" "qa qa";column-gap:8px;row-gap:6px;min-height:220px}#playSection .top-bar{grid-area:top}.question-area{grid-area:qa}#surrenderBtn{position:absolute;left:50%;transform:translate(-50%);bottom:10px;z-index:2}@media (max-width: 600px){#surrenderBtn{bottom:6px}}.intro-welcome{font-family:Brush Script MT,cursive,Comic Sans MS,Pacifico,sans-serif;font-size:1.05em;font-style:italic;color:#fff;font-weight:400;letter-spacing:.01em;margin-right:-2px;vertical-align:middle;position:relative;top:1px}.intro-flag-banner{display:flex;flex-wrap:nowrap;align-items:center;justify-content:center;gap:3px;margin:2px 0 6px;min-height:22px;overflow-x:auto}.intro-flag-banner img{width:22px;height:16px;object-fit:cover;border-radius:3px;border:1px solid #23304a;background:#0b1220;box-shadow:0 1px 3px #0002;display:block}.intro-infobox{background:#19213a;border-radius:10px;border:1px solid #334155;color:#cbd5e1;font-size:.89em;padding:7px 8px 6px;box-shadow:0 2px 8px #0002;text-align:left;max-width:340px;margin:0 auto 8px}.intro-infobox-title{color:#60a5fa;font-weight:700;font-size:.98em;margin-bottom:2px;letter-spacing:.01em}.intro-infobox-list{margin:0;padding-left:18px;list-style:disc inside}.intro-infobox-list li{margin-bottom:1px;line-height:1.3;font-size:.89em}@media (max-width: 350px){html,body{font-size:12px}.app-header h1{font-size:15px}.app-logo{height:36px}.app-logo img{max-height:28px}.app-logo .logo-text{font-size:14px}.player-banner{padding:4px 7px;font-size:.8em}.flag-card{gap:5px;padding:6px}.flag-emoji{font-size:24px}.flag-emoji img{width:24px;height:16px}.top-bar .flag-emoji{width:48px;height:32px}.top-bar .player-banner{font-size:.85em}.top-bar .turn-timer{padding:3px 6px;min-width:24px;font-size:.9em}.intro-title.with-logo img{max-height:32px}.intro-title .intro-title-text{font-size:1em}.intro-content{padding:18px 6px 12px}.intro-field input,.intro-field select{font-size:.95em;padding:5px 7px}.btn{padding:6px 8px;font-size:.95em}.side-panel{padding:6px}.flag-grid{grid-template-columns:repeat(4,1fr);gap:3px}.map-container{height:36vh;min-height:120px}.question h2{font-size:12px}.choice{padding:6px 7px;font-size:.85em}.overlay-content{max-width:98vw;padding:10px}}.intro-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:linear-gradient(120deg,#0f172a 60%,#1e293b);z-index:1000;display:flex;align-items:center;justify-content:center;min-height:100vh;overflow-y:auto}.intro-content{background:#111827;border-radius:16px;box-shadow:0 4px 32px #0008;padding:12px 8px 10px;max-width:370px;width:100%;text-align:center;display:flex;flex-direction:column;align-items:center}.intro-content h1{margin:0 0 6px;line-height:1}.intro-logo{position:relative;display:flex;align-items:center;justify-content:center;height:80px;margin-bottom:8px}.intro-logo img{max-height:64px;width:auto;display:block;opacity:0;transition:opacity .2s ease;filter:drop-shadow(0 2px 10px rgba(0,0,0,.4))}.intro-logo.loaded img{opacity:1}.intro-logo .intro-logo-text{position:absolute;left:50%;transform:translate(-50%);margin:0;color:#3b82f6;font-weight:800;letter-spacing:.04em;font-size:28px}.intro-logo.loaded .intro-logo-text,.intro-logo.error img{display:none}.intro-title{color:#3b82f6;font-weight:800;font-size:1.5em;letter-spacing:.04em}.intro-title.with-logo{display:inline-flex;align-items:center;justify-content:center;gap:4px;flex-wrap:wrap}.intro-title.with-logo img{display:block;max-height:72px;width:auto;opacity:0;transition:opacity .2s ease;filter:drop-shadow(0 1px 4px rgba(0,0,0,.35))}.intro-title.loaded img{opacity:1}.intro-title.with-logo .intro-title-text{display:inline}.intro-title.loaded .intro-title-text,.intro-title.error img{display:none}.intro-desc{color:#cbd5e1;font-size:1em;margin-bottom:12px}.intro-field{margin-bottom:10px;display:flex;align-items:center;gap:8px;text-align:left}.intro-field label{color:#60a5fa;font-size:.98em;min-width:90px;margin-bottom:0;display:inline-block;flex-shrink:0}.intro-field input,.intro-field select{flex:1 1 0;padding:7px 10px;border-radius:7px;border:1px solid #334155;background:#0b1220;color:#e5e7eb;font-size:1em;margin-bottom:0}.intro-start{width:100%;margin-top:10px;font-size:1.1em}@media (max-height: 700px){.intro-overlay{justify-content:flex-start;padding-top:8px}}@media (max-height: 650px){.intro-content{padding-top:10px;padding-bottom:8px}.intro-flag-banner{margin:0 0 4px}.intro-infobox{margin-bottom:6px;padding:6px 7px}.intro-field{margin-bottom:8px;gap:6px}.intro-start{margin-top:8px}}:root{--bg: #0f172a;--panel: #111827;--text: #e5e7eb;--muted: #9ca3af;--accent: #60a5fa;--accent-strong: #3b82f6;--danger: #ef4444;--success: #22c55e;--warning: #f59e0b;--country-default: #6b7280;--country-stroke: #374151;--p1: #3b82f6;--p2: #ef4444}*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--text);background:radial-gradient(1200px 800px at 80% -10%,#1f2937 0%,var(--bg) 60%)}.app-header{position:absolute;top:0;left:0;right:0;z-index:50;padding:12px 16px;background:#111827b3;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-bottom:1px solid #1f2937;min-height:60px}.app-header h1{font-size:20px;margin:0 auto;letter-spacing:.5px;text-align:center}.app-logo{position:relative;margin:0 auto;display:flex;align-items:center;justify-content:center;height:60px}.app-logo img{max-height:48px;width:auto;display:block;opacity:0;transition:opacity .2s ease;filter:drop-shadow(0 2px 8px rgba(0,0,0,.35))}.app-logo.loaded img{opacity:1}.app-logo .logo-text{position:absolute;left:50%;transform:translate(-50%);margin:0;opacity:.9;font-size:24px;letter-spacing:.6px}.app-logo.loaded .logo-text,.app-logo.error img{display:none}.score-panel{display:flex;align-items:center;gap:12px}.score-item{color:var(--muted);font-size:14px}.dot{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:6px}.dot-blue{background:var(--p1)}.mode-label{color:var(--muted);font-size:14px;display:flex;align-items:center;gap:6px}.mode-select{background:#0b1220;color:var(--text);border:1px solid #1f2937;border-radius:8px;padding:4px 8px}.turn-badge{background:#0b1220;border:1px solid #334155;padding:4px 8px;border-radius:999px;color:#e5e7eb;font-size:12px}.turn-badge.p1{border-color:#1d4ed8;color:#93c5fd}.turn-badge.p2{border-color:#b91c1c;color:#fca5a5}.score-item.muted{opacity:.7}.toast{position:fixed;left:50%;transform:translate(-50%);bottom:16px;background:#0b1220;color:#e5e7eb;border:1px solid #334155;border-radius:10px;padding:8px 12px;min-width:160px;text-align:center;box-shadow:0 2px 10px #0005;opacity:0;pointer-events:none;transition:opacity .2s ease,transform .2s ease}.toast.show{opacity:1;transform:translate(-50%) translateY(-4px)}.layout{display:flex;flex-direction:column;gap:12px;padding:8px 0;max-width:1200px;margin:0 auto}.side-panel{background:#111827a6;border:1px solid #1f2937;border-radius:12px;padding:12px}.side-panel#p1Panel{background:linear-gradient(180deg,#2563eb 90%,#1e40af);border-color:#1e3a8a;color:#f1f5f9}.side-panel#p2Panel{background:linear-gradient(180deg,#ef4444 90%,#991b1b);border-color:#7f1d1d;color:#f1f5f9}.panel-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.panel-name{font-weight:700;color:#e5e7eb;font-size:.95em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.panel-score{color:#9ca3af;font-size:14px}.flag-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}.flag-chip{width:100%;aspect-ratio:4/3;border-radius:6px;box-shadow:0 1px 4px #0005;background:#0b1220;border:1px solid #1f2937;overflow:hidden;display:flex;align-items:center;justify-content:center}.flag-chip img{width:100%;height:100%;object-fit:cover;display:block}.content-column{display:flex;flex-direction:column;gap:10px;flex:1 1 0}.map-section,.play-section{background:#111827a6;border:1px solid #1f2937;border-radius:12px;padding:10px}.play-section.p1{box-shadow:inset 0 0 0 2px #1d4ed8,0 0 0 2px #1d4ed820;background:linear-gradient(180deg,#0b1220,#0b1220 70%),radial-gradient(600px 200px at 100% -40%,#1d4ed833,transparent 60%);background-blend-mode:overlay}.play-section.p2{box-shadow:inset 0 0 0 2px #b91c1c,0 0 0 2px #b91c1c20;background:linear-gradient(180deg,#0b1220,#0b1220 70%),radial-gradient(600px 200px at 100% -40%,#b91c1c33,transparent 60%);background-blend-mode:overlay}.player-banner{margin:4px 4px 10px;padding:6px 10px;border-radius:10px;font-weight:700;letter-spacing:.02em;text-transform:uppercase;width:fit-content;color:#0b1220;background:#e5e7eb;box-shadow:0 2px 10px #0005;font-size:.95em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.player-banner.p1{background:#60a5fa;color:#0b1220}.player-banner.p2{background:#f87171;color:#0b1220}.top-bar{position:relative;display:flex;align-items:center;justify-content:center;margin:0 0 8px;min-height:34px}.top-bar .player-banner{position:absolute;left:8px;top:0;transform:none;margin:0}.top-bar .turn-timer{position:absolute;right:8px;top:0;transform:none;margin:0;padding:6px 10px;border-radius:10px;background:#0b1220;border:1px solid #334155;color:#e5e7eb;font-weight:700;min-width:40px;text-align:center;box-shadow:0 2px 8px #0005}.top-bar.right .turn-timer{left:8px;right:auto}.turn-timer.warn{border-color:#f59e0b;color:#fbbf24}.turn-timer.danger{border-color:#b91c1c;color:#fca5a5}@keyframes pulseWin{0%{filter:brightness(1) drop-shadow(0 0 0px transparent)}50%{filter:brightness(1.3) drop-shadow(0 0 8px rgba(255,255,255,.25))}to{filter:brightness(1) drop-shadow(0 0 0px transparent)}}.country.pulse-win{animation:pulseWin .8s ease-out 1}.map-container{width:100%;height:52vh;min-height:240px;max-height:none;position:relative;overflow:hidden}.map-flag-overlay{position:absolute;left:0;right:0;bottom:18px;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:10}.map-flag-overlay .flag-emoji{width:124px;height:82px;border-radius:10px;overflow:hidden;box-shadow:0 4px 12px #0007;background:#0b1220;border:1px solid #1f2937;display:flex;align-items:center;justify-content:center;font-size:60px}.map-flag-overlay .flag-emoji img{width:100%;height:100%;object-fit:cover;display:block}.map-section{padding:0;position:relative}.map-container{margin:0}.map-svg{display:block;width:100%;height:100%}.flag-card{display:flex;align-items:center;gap:12px;background:#0b1220;border:1px solid #1f2937;padding:12px;border-radius:12px;margin-bottom:12px}.flag-emoji{font-size:40px;line-height:1}.flag-label{color:var(--muted)}.question{margin-bottom:10px;text-align:center}.question h2{margin:0 0 6px;font-size:13px;color:#64748b;font-weight:600;opacity:.7;letter-spacing:.01em;text-align:center}.choices{display:grid;grid-template-columns:1fr;gap:8px;max-width:100%;width:100%;margin:0;justify-items:stretch}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #1f2937;background:#0b1220;color:var(--text);padding:10px 12px;border-radius:10px;cursor:pointer;transition:transform .05s ease,background .2s ease,border .2s ease}.btn:hover{transform:translateY(-1px);border-color:#263248}.btn:active{transform:translateY(0) scale(.99)}.btn-primary{background:linear-gradient(180deg,var(--accent),var(--accent-strong));border-color:#1d4ed8}.btn-ghost{background:#0b1220}.choice{padding:5px 6px;background:#0b1220;border:2px solid #1f2937;border-radius:10px;cursor:pointer;text-align:center;font-weight:500;color:#e0e7ff;transition:background .18s,border .18s,color .18s,box-shadow .18s;box-shadow:0 1px 4px #0002;font-size:.9em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-tap-highlight-color:transparent}.choice.vanish{opacity:0;transform:scale(.98);pointer-events:none;visibility:hidden;transition:opacity .18s ease,transform .18s ease,visibility 0s linear .18s}.choice.selected{background:linear-gradient(90deg,#3b82f6,#60a5fa);color:#fff;border-color:#2563eb;outline:2.5px solid #fbbf24;box-shadow:0 0 0 3px #fbbf2433,0 2px 8px #0003;z-index:1}@media (hover: hover){.choice:hover{background:#1e293b;color:#bae6fd;border-color:#38bdf8}}.choice:focus{outline:none}.choice:focus-visible{outline:2px solid #fbbf24;outline-offset:2px}.actions{display:none}.feedback{margin-top:6px;min-height:20px;color:var(--muted)}.feedback.success{color:var(--success)}.feedback.error{color:var(--danger)}.feedback.warn{color:var(--warning)}.question-area{position:relative;width:100%;display:grid;grid-template-columns:1fr 1fr;gap:10px;min-height:120px;align-items:start;padding-bottom:56px}.question-area .choices{width:100%}#feedback.centered{position:absolute;left:50%;top:18px;transform:translate(-50%);z-index:20;margin:0;font-size:1.08em;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.18);width:max-content;min-width:180px;max-width:90%;text-align:center;pointer-events:none;background:#111827fa;border-radius:12px;box-shadow:0 4px 24px #0007,0 1.5px #334155;padding:16px 22px 14px;border:1.5px solid #334155;opacity:.98;animation:feedbackPop .18s cubic-bezier(.7,-.2,.7,1.5)}@keyframes feedbackPop{0%{transform:translate(-50%) scale(.85);opacity:.5}80%{transform:translate(-50%) scale(1.08);opacity:1}to{transform:translate(-50%) scale(1);opacity:.98}}.question-area .question{min-width:0}.overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0000008c;display:flex;align-items:center;justify-content:center;padding:16px;z-index:1001}.overlay.hidden{display:none}.overlay-content{width:100%;max-width:420px;background:#0b1220;border:1px solid #1f2937;border-radius:12px;padding:20px;text-align:center}.map-svg{width:100%;height:100%;display:block;position:relative;z-index:1}.country{fill:var(--country-default);stroke:var(--country-stroke);stroke-width:.6;transition:fill .25s ease,opacity .25s ease;cursor:pointer}.country:hover{opacity:.9}.country.conquered-p1{fill:var(--p1)}.country.conquered-p2{fill:var(--p2)}.country.disabled{pointer-events:none;opacity:.6}@media (min-width: 900px){.below-row{display:flex;gap:12px;justify-content:center}.side-panel{width:110px;flex:0 0 110px}#p2Panel{display:block}.play-section{flex:0 0 320px;min-height:320px}.map-container{height:56vh}.choices{grid-template-columns:1fr}#playSection{display:grid;grid-template-columns:1fr 1fr;grid-template-areas:"top top" "qa qa";column-gap:10px;row-gap:8px}#playSection .top-bar{grid-area:top}.question-area{grid-area:qa}}@media (min-width: 600px) and (max-width: 899px){.below-row{display:flex;gap:8px;justify-content:center}.side-panel{width:80px;flex:0 0 80px}#p2Panel{display:block}.play-section{flex:0 0 240px}}@media (max-width: 899px){#p2Panel{display:block}.flag-grid{grid-template-columns:repeat(3,1fr)}.map-container{height:46vh;min-height:220px}}@media (max-width: 600px){.below-row{display:grid;grid-template-columns:44px auto 44px;gap:4px;align-items:start;justify-content:center}#p1Panel,#p2Panel{padding:6px;border-radius:10px}#p1Panel{grid-column:1}#playSection{grid-column:2;max-width:210px;width:100%;justify-self:center}#p2Panel{grid-column:3}.panel-header{margin-bottom:6px}.panel-name,.panel-score{font-size:12px}.flag-grid{grid-template-columns:repeat(2,1fr);gap:4px}.flag-chip{border-radius:4px}#playSection{display:grid;grid-template-columns:1fr 1fr;grid-template-areas:"top top" "qa qa";column-gap:8px;row-gap:6px}#playSection .top-bar{grid-area:top;margin-bottom:0}.question-area{grid-area:qa}.question h2{font-size:12px;margin-bottom:6px}.choice{padding:5px 6px;font-size:.86em}}@media (max-width: 480px){.below-row{grid-template-columns:64px auto 64px;gap:5px}#playSection{padding:6px}.choices{max-width:100%;gap:6px}.question h2{font-size:11px}.choice{padding:5px 6px;font-size:.84em}.panel-name,.panel-score{font-size:11px}.flag-grid{grid-template-columns:repeat(2,1fr);gap:3px}}@media (max-width: 360px){.below-row{grid-template-columns:58px auto 58px;gap:4px}#p1Panel,#p2Panel{padding:4px;border-radius:8px}#playSection{padding:5px}.question h2{font-size:10px}.choice{padding:4px 6px;font-size:.82em}.top-bar{min-height:30px}.top-bar .player-banner{left:6px}.top-bar .turn-timer{right:6px}}@media (max-width: 320px){.below-row{grid-template-columns:54px auto 54px;gap:3px}#playSection{padding:4px}.choice{padding:4px 6px;font-size:.8em}}.side-panel.active{outline:3px solid #fbbf24;box-shadow:0 0 0 3px #fbbf2433,0 6px 18px #0005;filter:saturate(1.1)}@media (max-width: 380px){.below-row{grid-template-columns:68px auto 68px;gap:5px}.flag-grid{grid-template-columns:2;gap:3px}.panel-name,.panel-score{font-size:11px}.choice{padding:7px 8px;font-size:.88em}}@media (max-width: 400px){.intro-content{padding:10px 2vw 8px}.intro-title.with-logo img{max-height:24vw;min-height:24px}.intro-title .intro-title-text{font-size:.95em}.intro-field input,.intro-field select{font-size:.92em;padding:4px 5px}.btn{padding:6px 8px;font-size:.95em}}@media (max-width: 350px){html,body{font-size:14px}.app-header h1{font-size:18px}.app-logo{height:52px}.app-logo img{max-height:40px}.app-logo .logo-text{font-size:20px}.player-banner{padding:6px 10px;font-size:.9em}.flag-card{gap:8px;padding:10px}.flag-emoji img{width:40px;height:28px}.intro-logo{height:70px}.intro-logo img{max-height:56px}.intro-logo .intro-logo-text{font-size:24px}.question h2{font-size:14px}.choice{padding:8px 10px;font-size:.95em}.actions{margin-top:6px}.intro-content{padding:6px 1vw 4px}.side-panel{padding:10px}.flag-grid{grid-template-columns:repeat(5,1fr);gap:5px}.map-container{height:44vh;min-height:200px}.flag-grid{grid-template-columns:repeat(3,1fr);gap:2px}.flag-chip{border-radius:3px}}@media (max-width: 380px){.app-header h1{font-size:18px}.flag-emoji{font-size:34px}}
